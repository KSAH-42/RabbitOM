RabbitOM.Net.Streaming.dll
{
    RabbitOM.Net.Streaming { class CodecInfo {} , etc...  }
    RabbitOM.Net.Streaming.Rtcp
    RabbitOM.Net.Streaming.Rtcp.Clients
    RabbitOM.Net.Streaming.Rtp
    RabbitOM.Net.Streaming.Rtp.Clients
    RabbitOM.Net.Streaming.Rtsp
    RabbitOM.Net.Streaming.Rtsp.Clients
    RabbitOM.Net.Streaming.Rtsp.Clients.Transports
    RabbitOM.Net.Streaming.Rtsp.Servers
    RabbitOM.Net.Streaming.Rtsp.Servers.Transports
    RabbitOM.Net.Streaming.Sdp
    RabbitOM.Net.Streaming.Sdp.Extensions
    RabbitOM.Net.Streaming.Sdp.Serialization
    RabbitOM.Net.Streaming.Sdp.Serialization.Formatters
    RabbitOM.Net.Streaming.Sdp.Validations
    RabbitOM.Net.Streaming.Sip
    RabbitOM.Net.Streaming.Sip.Clients
    RabbitOM.Net.Streaming.Sip.Clients.Transports
    RabbitOM.Net.Streaming.HLS
    RabbitOM.Net.Streaming.HLS.Clients
}

RabbitOM.Devices
RabbitOM.Devices.Cameras.dll
RabbitOM.Devices.Cameras.Hik.dll
RabbitOM.Devices.Cameras.Verint.dll
RabbitOM.Devices.Cameras.Acti.dll
RabbitOM.Devices.Cameras.IndigoVision.dll
RabbitOM.Devices.Cameras.Bosch.dll
RabbitOM.Devices.Cameras.Pelco.dll
RabbitOM.Devices.Cameras.Axis.dll
RabbitOM.Devices.Cameras.Teleste.dll
RabbitOM.Devices.Cameras.UniView.dll
RabbitOM.Devices.Cameras.Dahua.dll
RabbitOM.Devices.Cameras.Survision.dll
RabbitOM.Devices.Cameras.Onvif.dll
RabbitOM.Devices.Encoders.dll
RabbitOM.Devices.Encoders.Verint.dll
RabbitOM.Devices.Encoders.Nice.dll
RabbitOM.Devices.Decoders.dll
RabbitOM.Devices.Decoders.Verint.dll
RabbitOM.Devices.Decoders.Planar.dll
RabbitOM.Devices.Captures.dll
RabbitOM.Devices.Captures.WebCam.dll
RabbitOM.Devices.Captures.DShow.dll
RabbitOM.Devices.Captures.Gutebruck.dll
RabbitOM.Devices.Dvr.dll
RabbitOM.Devices.Dvr.Bosch.dll
RabbitOM.Devices.Dvr.Bosch.Divar.dll
RabbitOM.Devices.Nvr.dll
RabbitOM.Devices.Nvr.Dahua.dll
RabbitOM.Devices.Nvr.Hik.dll
RabbitOM.Devices.Intercoms.dll
RabbitOM.Devices.Intercoms.Commend.dll
RabbitOM.Devices.Intercoms.Commend.Icx.dll
RabbitOM.Devices.Intercoms.Castel.dll
RabbitOM.Devices.Intercoms.Castel.Maylis.dll

client.CommunicationStarted
client.CommunicationStopped
client.Connected
client.Disconnected
client.ConnectionFailed
client.AuthenticationFailed
client.DescribeError
client.SetupError
client.SetupError
client.Event
client.StreamingStarted
client.StreamingStopped
client.PacketReceived

RabbitOM.Rtsp
RabbitOM.Rtsp.Clients
RabbitOM.Rtsp.Clients.Messaging
RabbitOM.Rtsp.Clients.Messaging.Serialization
RabbitOM.Rtsp.Clients.Remoting
RabbitOM.Rtsp.Clients.Remoting.Invokers

RabbitOM.Media.Rtsp
RabbitOM.Media.Rtsp.Clients
RabbitOM.Media.Rtsp.Sockets
RabbitOM.Media.Rtsp.Remoting
RabbitOM.Media.Rtsp.Remoting.Invokers
RabbitOM.Media.Rtsp.Threading

public abstract class Client : IClient , IDispose
{
    public sealed class ClientRunner : IDispose
    {
        private readonly Client _client;

        public ClientRunner( Client client )
        {
            _client = client;
            _client.OnCommunicationStarted(...);
        }

        public void Run()
        {
            try
            {
                if ( ! _client.IsConnected )
                {
                    _client.DoConnect();
                    _client.DoDescribe();
                    _client.DoSetup();
                    _client.DoPlay();
                    _client.OnConnected(...);
                }
                else
                {
                    _client.Ping();
                }
            }
            catch(Exception ex)
            {
              if ( _client.IsConnected )
              {
                 _client.Close();
                 _client.OnClose();
              }
              _client.OnException( ex );
            }

            _client.DoIdle();
        }

        public void Dispose()
        {
            _client.OnCommunicationStopped(...);
        }
    }

    public abstract bool IsConnected {get; }
    public abstract bool IsCommunicationStarted { get; }
    public abstract void Start();
    public abstract void Stop();

    protected abstract TimeSpan GetIdleTimeout();
    protected abstract TimeSpan GetRetryTimeout();
    protected abstract bool DoWaitCancelation(TimeSpan span);
    protected abstract void DoShutdown();
    protected abstract void DoConnect();
    protected abstract void DoDisconnect();
    protected abstract void DoSetup();
    protected abstract void DoPlay();
    protected abstract void DoIdle();

    protected virtual void OnConnect() { }
    protected virtual void OnShutdown() { }
    protected virtual void OnDisconnect() { }
    protected virtual void OnSetup() { }
    protected virtual void OnTransportOpened() { }
    protected virtual void OnTransportClosed() { }
    protected virtual void OnPlay() { }
    protected virtual void OnTransportError() { }


    protected virtual void OnStarted(EventArgs e){ }
    protected virtual void OnStopped(EventArgs e) { }

}